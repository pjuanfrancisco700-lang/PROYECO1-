async function enviarVentaAlServidor(venta) {
  const { url, token } = getSyncConfig();
  if (!url || !token) return false;
  try {
    const resp = await fetch(url, {
      method: "POST",
      // Sin headers personalizados, mandamos JSON en bruto
      body: JSON.stringify({
        token,
        action: "addVenta",
        data: venta
      })
    });
    if (!resp.ok) return false;
    const data = await resp.json().catch(() => null);
    if (data && data.ok === false) return false;
    return true;
  } catch (e) {
    console.error("Error enviando venta:", e);
    return false;
  }
}
